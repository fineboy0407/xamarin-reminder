<div class="container">
    <div class="col-xs-8">
        <h2>New note</h2>
        <hr />

        <form enctype="multipart/form-data">
            <textarea id="noteDescription" class="form-control" placeholder="description"></textarea>

            <div class="form-group">
                <input type="file" id="photos" name="Photos" class="upload" multiple />
                <label for="photos">Pick photos...</label>
                <label id="fileNames"></label>
            </div>

            <input type="button" class="button button-info" id="createFormSubmitButton" value="Create">
        </form>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#photos").change(function () {
            var files = $("#photos").prop("files");
            var names = $.map(files, function (val) { return val.name; });
            $("#fileNames").text(names);
        });

        $("#createFormSubmitButton").click(function () {
            var currentDate = new Date();

            var noteModel = {
                description: $("#noteDescription").val(),
                creationDate: currentDate.toJSON(),
                editDate: currentDate.toJSON(),
                userId: '1',
                photos: [],
                videos: []
            };
            console.log(noteModel);

            $.ajax({
                type: 'POST',
                url: '/api/Notes',
                headers: { "Authorization": "Bearer " + localStorage.getItem("token") },
                data: noteModel,
                success: function(result) {
                    console.log(result);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        });
    })
</script>
